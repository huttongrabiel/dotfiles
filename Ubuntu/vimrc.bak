syntax enable on
set termguicolors
set background=dark

inoremap kj <esc>

set backspace=indent,eol,start
set tabstop=4 softtabstop=4
set shiftwidth=4
set expandtab
set smartindent
set relativenumber
set nu
set noswapfile
set nowrap
set ruler
set incsearch
set noerrorbells
set nohlsearch
set colorcolumn=80

vnoremap <C-c> "+y

"" ctags settings
set tags=./tags;/
"" Ctrl-\ open definition in new tab
map <C-\> :tab split<CR>:exec("tag ".expand("<cword>"))<CR>
"" Alt+] open definition in vertical split
map <A-]> :vsp <CR>:exec("tag ".expand("<cword>"))<CR>

"" Compile C++ with F4 (Competitive Programming ONLY!!)
autocmd filetype cpp nnoremap <F4> :w <bar> exec '!g++ '.shellescape('%').' -o '.shellescape('%:r').' && ./'.shellescape('%:r')<CR>

call plug#begin(stdpath('data') . '/plugged')
Plug 'nvim-lua/plenary.nvim'
Plug 'nvim-telescope/telescope.nvim'
Plug 'neovim/nvim-lspconfig'
Plug 'folke/tokyonight.nvim', { 'branch': 'main' }
Plug 'nvim-treesitter/nvim-treesitter', {'do': ':TSUpdate'}
Plug 'junegunn/fzf', { 'do': { -> fzf#install() } }
Plug 'APZelos/blamer.nvim'
Plug 'neoclide/coc.nvim', {'branch': 'release'}
call plug#end()

colorscheme tokyonight

highlight Normal guibg=none
highlight LineNr guifg=#5eacd3

"" git blame plugin
let g:blamer_enabled = 1

let mapleader = " "

" Find files using Telescope command-line sugar.
nnoremap <leader>ff <cmd>Telescope find_files<cr>
nnoremap <leader>fg <cmd>Telescope live_grep<cr>
nnoremap <leader>fb <cmd>Telescope buffers<cr>
nnoremap <leader>fh <cmd>Telescope help_tags<cr>

" COC Code Navigation
nmap <silent> gd <Plug>(coc-definition)
nmap <silent> gy <Plug>(coc-type-definition)
nmap <silent> gi <Plug>(coc-implementation)
nmap <silent> gr <Plug>(coc-references)

" COC Symbol Renaming
nmap <leader>rn <Plug>(coc-rename)
